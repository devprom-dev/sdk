var tc = underi18n.MessageFactory({
    "scrum-intro": "<strong>Scrum</strong> <a href=\"http://www.scrumguides.org/\">сфокусирован</a>&nbsp;на управлении проектом в условиях неопределенных и часто меняющихся требований.</p><p>&nbsp;</p><p>Владелец продукта (заказчик)&nbsp;должен хорошо представлять продукт, чтобы изложить <strong>все детали требований</strong>&nbsp;на периодических встречах&nbsp;с командой.&nbsp;Требования <strong>могут меняться</strong>&nbsp;в течение спринта (итерации), если цели спринта при этом сохраняются.</p><p>&nbsp;</p><p>Горизонт планирования составляет <strong>один-два&nbsp;месяца</strong>.&nbsp;Методология хорошо подходит для частого получения <strong>обратной связи</strong> по фичам продукта, позволяет довольно быстро выполнять пользовательские требования.</p><p>&nbsp;</p><p><strong>Стоимость разработки</strong> более высокая, так как&nbsp;команде придется изменять архитектуру и дизайн в работающем продукте, принимать компромиссные технические решения, обслуживать <strong>технический долг</strong>.</p><p>&nbsp;</p><p>Гарантия результата определяется <strong>навыками</strong> членов команды. Для успешного внедрения Scrum желательно привлечь опытного ментора.&nbsp;От членов команды потребуется быть готовыми к изменениям и интенсивному взаимодействию со своими&nbsp;коллегами.</p><p>&nbsp;</p><p>Использование <strong>документации </strong>в Scrum минимизировано, так как технические решения принимаются&nbsp;при тесном взаимодейтсвии членов команды.&nbsp;Однако, при необходимости, в течение спринта можно выделить время на документирование и поддержку документации в актуальном состоянии.",
    "scrum-backlog": "Все <a href=\"http://devprom.ru/glossary/%D0%98%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%8F-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F\">пользовательские&nbsp;истории</a> попадают в <strong>бэклог</strong> и располагаются в нем в порядке приоритета их реализации.</p><p>&nbsp;</p><p>Крупные истории <strong>владелец продукта</strong>&nbsp;преобразует в <strong>эпики</strong>, которые затем декомпозирует&nbsp;на истории поменьше.</p><p>&nbsp;</p><p>Эпики позволяют отслеживать <strong>прогресс</strong> разработки&nbsp;продукта на верхних уровнях функциональной декомпозиции.",
    "scrum-planning": "В начале каждого <strong>спринта</strong> команда собирается на сессию планирования. Чтобы команда была <strong>сфокусирована </strong>на целях спринта, запишите их в базе знаний проекта.</p><p>&nbsp;</p><p>Из бэклога выбираются самые <strong>приоритетные истории</strong>, уточняются требования, согласуются <strong>критерии приемки</strong> и фиксируются в тексте истории.</p><p>&nbsp;</p><p>Команда <strong>оценивает историю</strong> в <a href=\"http://devprom.ru/news/Как-Story-Points-соотносятся-с-часами\" target=\"_blank\">Story Points</a> или&nbsp;идеальных часах (способ оценки задается в настройках методологии проекта).</p><p>&nbsp;</p><p>Если команда включает историю&nbsp;в спринт, то карточка переносится в состояние \"Запланировано в спринт\" и история&nbsp;<strong>декомпозируется</strong> на задачи, например, проектирование, разработка, тестирование и т.д.</p><p>&nbsp;</p><p>В спринт можно включить столько историй, сколько позволяет его <strong>емкость</strong>, определяемая начальной скоростью команды и продолжительностью спринта.",
    "scrum-taskboard": "Электронная <strong>доска задач</strong> в режиме реального времени&nbsp;показывает кто из участников команды какими задачами занят.</p><p>&nbsp;</p><p>Участники команды берут себе <strong>свободные задачи</strong> текущего спринта и&nbsp;могут <strong>переназначить</strong> задачу&nbsp;просто перетащив карточку на другого участника.</p><p>&nbsp;</p><p>В&nbsp;отличии от <strong>физической доски</strong> вам не нужно тратить время на запись и расшифровку текста задачи, карточки задач не окажутся случайно на полу, можно работать с распределенными командами и удаленными сотрудниками.</p><p>&nbsp;</p><p>Если ваша команда может собраться в одном месте, то на начальном этапе внедрения Scrum лучше все же&nbsp;работать с физической доской. В&nbsp;меню \"Действия\" выберите пункт \"Печать карточек\", чтобы затем их развесить на физической доске.",
    "scrum-burndown": "Для контроля за <strong>сроками спринта</strong> команда использует простой и наглядный инструмент - график Burndown.</p><p>&nbsp;</p><p><strong>Красная линия</strong> показывает какой должен оставаться объем незавершенной работы на каждый день спринта.&nbsp;<strong>Зеленая линия</strong> указывает на фактический объем незавершенной работы.</p><p>&nbsp;</p><p>Команде нужно следить за тем, чтобы зеленая линия находилась под красной.",
    "scrum-velocity": "В течение проекта команда следит за графиком <strong>изменения ее скорости</strong>.</p><p>&nbsp;</p><p>Скорость команды постепенно должна увеличиваться за счет более качественной оценки историй и внедрения эффективных практик разработки ПО.",
    "scrum-retro": "После каждого спринта команда проводит <strong>ретроспективу</strong>.</p><p>&nbsp;</p><p>Ретроспектива - это действенный способ постепенно улучшать команду, процесс и качество продукта.&nbsp;На ретроспективах анализируются результаты предыдущих шагов,&nbsp;выявляются текущие проблемы и&nbsp;вырабатываются новые шаги по их решению.</p><p>&nbsp;</p><p><strong>Результаты</strong> ретроспективы в форме записей и фотографий сохраняйте в <strong>базе знаний проекта</strong> для напоминания всем участникам о договоренностях, а также для анализа эффективности ваших действий по решению проблем.",
    "scrum-modelling": "В процессе реализации историй <strong>документируйте</strong> важные технические решения в форме фотографий, скриншотов,&nbsp;UML-диаграмм, формул, алгоритмов или в произвольной текстовой форме.</p><p>&nbsp;</p><p>Это позволит любому члену команды освежить в памяти детали <strong>технического решения</strong>, а новым членам команды быстрее войти в курс дела.&nbsp;Просто <strong>создайте требование</strong>,&nbsp;связанное с историей,&nbsp;и запишите в нем все важные технические решения.</p><p>&nbsp;</p><p>Требование удобно <strong>обсудить</strong> со всеми заинтересованными лицами.",
    "scrum-testing": "Разрабатывайте <strong>тестовую документацию</strong> по ходу реализации историй.&nbsp;Затем она будет использована для <strong>ручного тестирования</strong>, например, для смоук, регрессионного или исследовательского тестирования перед передачей продукта заказчику.</p><p>&nbsp;</p><p>Просто создайте <strong>тестовый сценарий</strong>, связанный с историей, и включите его в подходящий&nbsp;<strong>тест-план</strong>.&nbsp;Особенно востребованные тестовые&nbsp;сцеарии&nbsp;можно включить в несколько тест-планов.</p><p>&nbsp;</p><p><strong>Выполняйте тестирование</strong> истории или тест-плана, отчет будет доступен&nbsp;всей команде. Если <strong>обнаружатся ошибки</strong>, то отклоняйте историю или добавляйте новые ошибки при тестировании тест-плана.</p><p>&nbsp;</p><p>Тестовые сценарии будут <strong>вязаны</strong> с исходными требованиями&nbsp;автоматически. Когда требование изменится приложение сообщит вам о том, что необходимо <strong>обновить </strong>и тестовую документацию.",
    "scrum-code": "Подключите репозиторий <strong>исходного кода</strong>&nbsp;к&nbsp;проекту, чтобы видеть все <strong>коммиты</strong> и собирать статистику по изменениям в исходном коде.&nbsp;Организуйте легковесное <strong>ревью кода</strong>.</p><p>&nbsp;</p><p><strong>Связывайте</strong> задачи или истории с коммитами исходного кода, это позволит&nbsp;выяснить как именно была реализована история, а также упростит разработчикам изменение статуса задачи или списание времени."
});

var scrumTourTitle = 'Scrum';
var scrumTourId = 'ScrumTour';
var scrumTourTemplate = "<div class='popover tour' style='max-width:550px;'>"+
    "<div class='arrow'></div>"+
    "<h3 class='popover-title' style='color:#fff;background-color: #428bca;border: 2px solid #428bca;'></h3>"+
    "<div class='popover-content'></div>"+
    "<div class='popover-navigation text-center' style='padding: 9px 14px;'>"+
    "<button class='btn btn-default pull-left' data-role='prev'><span class='ui-button-text'><i class='icon-backward'></i></span></button>"+
    "<button class='btn btn-default' data-role='stop' title='"+ptt('end-tour')+"'><span class='ui-button-text'><i class='icon-stop'></i></span></button>"+
    "<button class='btn btn-default pull-right' data-role='next'><span class='ui-button-text'><i class='icon-forward'></i></span></button>"+
    "<div class='clearfix'></div>"+
    "</div>"+
    "</div>";

var scrumSteps = [
    {
        orphan: true,
        content: tc('scrum-intro'),
        template: scrumTourTemplate.replace('550px', '650px'),
        title: scrumTourTitle
    },
    {
        element: "table.table-inner tr:eq(2) td:eq(3)",
        content: tc('scrum-backlog'),
        placement: 'bottom',
        path: '/pm/%project%/issues/list/productbacklog?report=productbacklog&basemodule=issues-backlog&&area=favs&tour='+scrumTourId,
        title: scrumTourTitle
    },
    {
        element: "div.board_item_attributes:eq(0)",
        content: tc('scrum-planning'),
        placement: 'right',
        path: '/pm/%project%/issues/board?area=favs&tour='+scrumTourId,
        title: scrumTourTitle
    },
    {
        element: "table.board-table tr:eq(5) td.board-column:eq(1)",
        content: tc('scrum-taskboard'),
        placement: 'top',
        path: '/pm/%project%/tasks/board?area=favs&tour='+scrumTourId,
        title: scrumTourTitle
    },
    {
        element: "ul#menu_favs a[uid='releaseburndown']",
        content: tc('scrum-burndown'),
        placement: 'right',
        path: '/pm/%project%/issues/chart/releaseburndown?report=releaseburndown&basemodule=issues-chart&&area=favs&tour='+scrumTourId,
        title: scrumTourTitle
    },
    {
        element: "ul#menu_favs a[uid='velocitychart']",
        content: tc('scrum-velocity'),
        placement: 'right',
        path: '/pm/%project%/module/scrum/velocitychart/velocitychart?report=velocitychart&basemodule=scrum/velocitychart&&area=favs&tour='+scrumTourId,
        title: scrumTourTitle
    },
    {
        element: "h4.title-cell",
        content: tc('scrum-retro'),
        placement: 'bottom',
        path: '/pm/%project%/knowledgebase/tree?area=favs&tour='+scrumTourId,
        title: scrumTourTitle
    }
];

if ( mode_reqs ) {
    scrumSteps.push(
        {
            element: "table.table-inner tr:eq(1) td:eq(3)",
            content: tc('scrum-modelling'),
            placement: 'bottom',
            path: '/pm/%project%/module/requirements/docs?area=reqs&tour='+scrumTourId,
            title: scrumTourTitle
        }
    );
}
if ( mode_qa ) {
    scrumSteps.push(
        {
            element: "table.table-inner tr:eq(2) td:eq(3)",
            content: tc('scrum-testing'),
            placement: 'bottom',
            path: '/pm/%project%/module/testing/results/testsofreleasereport?report=testsofreleasereport&basemodule=testing/results&&area=qa&tour='+scrumTourId,
            title: scrumTourTitle
        }
    );
}
if ( mode_code ) {
    scrumSteps.push(
        {
            element: "table.table-inner tr:eq(1) td:eq(3)",
            content: tc('scrum-code'),
            placement: 'bottom',
            path: '/pm/%project%/module/sourcecontrol/revision?area=dev&tour='+scrumTourId,
            title: scrumTourTitle
        }
    );
}

scrumSteps.push(
    {
        orphan: true,
        duration: 1,
        path: '/pm/%project%/issues/board?area=favs&tour='+scrumTourId,
    }
);

if ( cookies.get(scrumTourId+'Skip') == null ) {
    toursQueue.unshift(new Tour({
        steps: scrumSteps,
        name: scrumTourId,
        duration: 1000 * 120,
        template: scrumTourTemplate,
        onShow: function(tour) {
            $('.with-tooltip').popover('disable');
        },
        onEnd: function(tour) {
            $('.with-tooltip').popover('enable');
            startNextTour();
        },
        onShown: function(tour) {
            $('[data-role=stop]').click( function() {
                tour.end();
            });
        }
    }));
}